<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TP | 日本語の海外就職（マレーシア・タイ）</title>

  <!-- favicon (you uploaded TPLogo11.png) -->
  <link rel="icon" href="TPLogo11.png" type="image/png">

  <!-- fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    /*
      Combined & enhanced microsite CSS
      - Minimalistic, Japanese-friendly
      - Asanoha & Seigaiha subtle patterns
      - Responsive, accessible
    */

    :root{
      --bg: #ffffff;
      --text: #0b0b0b;
      --muted: #6b6b6b;
      --accent: #0057B8; /* TP blue */
      --accent-2: #E63946; /* subtle accent */
      --glass: rgba(255,255,255,0.75);
      --card-shadow: 0 14px 40px rgba(12,12,12,0.06);
      --radius: 12px;
      --maxw: 1200px;
      --gap: 20px;
      --sap: 0.06;
      --site-language: 'ja';
    }

    /* Reset & base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Noto Sans JP","Inter",system-ui,-apple-system,"Segoe UI",Roboto;
      color:var(--text);
      background:var(--bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
    }
    img{max-width:100%;display:block}
    a{color:inherit;text-decoration:none}
    button{font-family:inherit}

    /* layout container */
    .wrap{max-width:var(--maxw);margin:0 auto;padding:28px}

    /* Header */
    header.site{
      position:sticky;top:12px;margin:12px 0 28px;z-index:120;
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9));
      padding:10px 18px;border-radius:16px;box-shadow:var(--card-shadow);
      backdrop-filter: blur(6px);
    }
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none}
    .brand img{height:46px;width:auto;display:block;border-radius:6px}
    .brand .title{font-weight:800;font-size:15px;letter-spacing:0.02em}
    .brand .sub{font-size:12px;color:var(--muted)}
    nav.primary{display:flex;gap:10px;align-items:center}
    nav.primary a{padding:8px 12px;border-radius:10px;text-decoration:none;color:var(--muted);font-weight:600;font-size:14px}
    nav.primary a:hover{background:var(--glass);color:var(--text)}
    .header-actions{display:flex;gap:10px;align-items:center}
    .lang-btn{border:1px solid #e6e6e6;padding:8px 10px;border-radius:10px;background:#fff;cursor:pointer}
    .apply-btn{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:700;box-shadow: 0 6px 18px rgba(0,87,184,0.18)}

    /* Hero */
    .hero{
      display:grid;grid-template-columns: 1fr 420px;gap:28px;align-items:center;padding:36px;border-radius:16px;box-shadow:var(--card-shadow);
      background:linear-gradient(180deg,#fff,#fbfbff);
      overflow:hidden;margin-bottom:30px;position:relative;
    }
    .hero .bg-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.05), rgba(255,255,255,0.02));pointer-events:none}
    .eyebrow{color:var(--accent);font-weight:700;font-size:12px;letter-spacing:.08em}
    h1.hero-title{margin:12px 0;font-size:34px;line-height:1.05}
    .typewriter{display:inline-block;border-right:2px solid var(--accent);padding-right:6px;min-height:1.2em}
    p.lead{color:var(--muted);margin:10px 0 18px;max-width:68%}
    .hero-ctas{display:flex;gap:12px;flex-wrap:wrap}
    .stat-row{display:flex;gap:18px;margin-top:20px}
    .stat{background:#fff;padding:12px 16px;border-radius:10px;box-shadow:0 6px 20px rgba(12,12,12,0.03);text-align:center}
    .stat strong{display:block;font-size:18px;color:var(--text);font-weight:700}
    .hero-media{justify-self:end}
    .hero-media .cover{width:420px;height:300px;border-radius:12px;object-fit:cover;box-shadow:var(--card-shadow);overflow:hidden}

    /* Sections */
    section{margin-bottom:28px;padding:28px 0;position:relative}
    .section-head{display:flex;align-items:end;justify-content:space-between;gap:12px;margin-bottom:16px}
    .h2{font-size:22px;font-weight:700;margin:0}
    .h2-sub{color:var(--muted);font-size:13px}
    .grid{display:grid;gap:var(--gap)}
    .grid.cols-3{grid-template-columns:repeat(3,1fr)}
    .card{background:#fff;border-radius:12px;padding:18px;box-shadow:var(--card-shadow)}
    .why-list{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .why-item{padding:18px;border-radius:10px;border:1px solid #f0f0f0;min-height:140px}
    .cities{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
    .city{position:relative;border-radius:12px;overflow:hidden;min-height:180px}
    .city .overlay{position:absolute;left:14px;bottom:14px;background:linear-gradient(90deg,rgba(0,0,0,0.55),rgba(0,0,0,0.25));color:#fff;padding:10px;border-radius:8px}
    .carousel{position:relative;display:flex;gap:12px;align-items:center}
    .slides{display:flex;gap:12px;transition:transform .5s ease}
    .slide{min-width:320px;padding:18px;border-radius:12px;background:#fff;border:1px solid #f3f4f6}
    .carousel-controls{display:flex;gap:8px;align-items:center}
    .timeline{padding:0;margin:0;list-style:none}
    .timeline li{padding:16px 10px;border-left:4px solid transparent;margin-bottom:10px;border-radius:8px;background:linear-gradient(180deg,#fff,#fcfcff);box-shadow:var(--card-shadow)}

    /* Team */
    .team-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
    .member{padding:12px;border-radius:10px;border:1px solid #f0f0f0;text-align:center}
    .member img{border-radius:10px;height:160px;object-fit:cover;margin-bottom:10px;width:100%}
    .quote{font-style:italic;color:var(--muted);padding:12px;border-left:3px solid var(--accent);background:#fafafa;border-radius:10px}

    /* FAQ */
    .accordion .q{width:100%;text-align:left;padding:12px;border-radius:10px;border:1px solid #eee;background:#fff;cursor:pointer;margin-bottom:8px}
    .accordion .a{display:none;padding:12px;background:#fafafa;border-radius:8px;border-left:3px solid var(--accent)}

    /* Contact */
    form input, form textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e6e6;margin:8px 0}
    .footer{margin-top:30px;padding:14px 10px;text-align:center;color:var(--muted);font-size:14px}

    /* Floating */
    .floating-apply{position:fixed;right:18px;bottom:18px;background:var(--accent);color:#fff;padding:12px 16px;border-radius:999px;font-weight:700;box-shadow:0 10px 30px rgba(0,87,184,0.18);z-index:90}

    /* patterns - using inline svg as data urls for subtle backgrounds */
    .pattern-asanoha { position:absolute; inset:0; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><defs><pattern id='p' width='40' height='40' patternUnits='userSpaceOnUse'><path d='M20 0 L40 40 L0 40 Z' fill='%230057B8' opacity='0.04'/></pattern></defs><rect width='100%' height='100%' fill='url(%23p)'/></svg>"); background-size: 200px; opacity:0.06; pointer-events:none; z-index:0; }
    .pattern-seigaiha { position:absolute; inset:0; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 100 100'><defs><pattern id='pg' width='20' height='20' patternUnits='userSpaceOnUse'><path d='M10 10 a10 10 0 0 0 10 -10' stroke='%230057B8' stroke-width='1' fill='none' opacity='0.04'/></pattern></defs><rect width='100%' height='100%' fill='url(%23pg)'/></svg>"); background-size: 200px; opacity:0.05; pointer-events:none; z-index:0; }

    /* reveal animation */
    .reveal{opacity:0;transform:translateY(18px);transition:all .6s cubic-bezier(.2,.9,.3,1)}
    .reveal.in-view{opacity:1;transform:none}

    /* responsive */
    @media (max-width:1000px){
      .hero{grid-template-columns:1fr; text-align:center}
      .hero-media{justify-self:center}
      .team-grid{grid-template-columns:repeat(2,1fr)}
      .cities{grid-template-columns:repeat(2,1fr)}
      .why-list{grid-template-columns:repeat(1,1fr)}
    }
    @media (max-width:600px){
      .team-grid{grid-template-columns:1fr}
      nav.primary{display:none}
      .wrap{padding:18px}
      .brand img{height:38px}
      .slides{overflow:hidden}
      .slide{min-width:260px}
    }

    /* long-page helpers */
    .muted{color:var(--muted)}
    .small{font-size:13px}
  </style>
</head>
<body>
  <div class="wrap" id="siteWrap">
    <header class="site" role="banner" aria-label="Top">
      <a class="brand" href="#home" id="brandLink" title="TP">
        <img id="logoImg" src="TPLogo11.png" alt="TP Logo">
        <div>
          <div class="title" data-i18n="brand.title">TP</div>
          <div class="sub" data-i18n="brand.sub">Malaysia · Thailand — 日本語採用</div>
        </div>
      </a>

      <nav class="primary" role="navigation" aria-label="Primary" aria-hidden="false">
        <a href="#about" data-i18n="nav.about">会社紹介</a>
        <a href="#why" data-i18n="nav.why">なぜTP</a>
        <a href="#cities" data-i18n="nav.cities">拠点</a>
        <a href="#benefits" data-i18n="nav.benefits">福利厚生</a>
        <a href="#process" data-i18n="nav.process">応募の流れ</a>
        <a href="#faq" data-i18n="nav.faq">FAQ</a>
      </nav>

      <div class="header-actions">
        <button class="lang-btn" id="langToggle" aria-live="polite">EN</button>
        <a class="apply-btn" id="applyTop" href="https://careerseng-TP.icims.com/jobs/49026/customer-service-representative---japanese-speaking-%28kl%29/job?mode=job&iis=LANDINGPAGE" target="_blank" data-i18n="cta.apply">ご応募はこちら</a>
      </div>
    </header>

    <!-- HERO -->
    <section class="hero" id="home" aria-label="Hero">
      <div class="bg-overlay" aria-hidden="true"></div>
      <canvas id="sakuraCanvas" style="position:absolute;right:0;left:0;top:0;bottom:0;z-index:0;pointer-events:none"></canvas>

      <div style="position:relative;z-index:2">
        <div class="eyebrow" data-i18n="hero.eyebrow">暮らすように、海外で働く。</div>
        <h1 class="hero-title"><span data-i18n="hero.leading">あなたの新しいキャリアの舞台に、</span> <span class="typewriter" id="heroType" data-txt-jp="マレーシア・タイという選択。" data-txt-en="Malaysia & Thailand."></span></h1>
        <p class="lead" data-i18n="hero.lead">多国籍な環境と、日本語を活かせる仕事。コストを抑えた快適な暮らしと、就労ビザ／移住サポートで初めての海外就職も安心して始められます。</p>

        <div class="hero-ctas" style="margin-top:12px">
          <a class="apply-btn" id="applyJobs" href="https://careerseng-TP.icims.com/jobs/49026/customer-service-representative---japanese-speaking-%28kl%29/job?mode=job&iis=LANDINGPAGE" target="_blank" data-i18n="cta.jobs">求人を見る</a>
          <a class="lang-btn" href="https://forms.office.com/e/2UvpbweQww" target="_blank" data-i18n="cta.support">移住サポートを見る</a>
        </div>

        <div class="stat-row" style="margin-top:18px">
          <div class="stat">
            <strong data-i18n="stat.countries">100+</strong>
            <span data-i18n="stat.countries_sub">拠点国</span>
          </div>
          <div class="stat">
            <strong data-i18n="stat.people">500K+</strong>
            <span data-i18n="stat.people_sub">従業員</span>
          </div>
          <div class="stat">
            <strong data-i18n="stat.jp_roles">多数</strong>
            <span data-i18n="stat.jp_roles_sub">日本語ポジション</span>
          </div>
        </div>
      </div>

      <div class="hero-media" style="position:relative;z-index:2">
        <img id="heroCover" class="cover" src="images/hero-collage.jpg" alt="KL skyline and local life" onerror="this.src='https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?auto=format&fit=crop&w=1200&q=80'">
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="reveal" aria-labelledby="aboutHeading">
      <div class="pattern-asanoha" aria-hidden="true"></div>
      <div class="section-head">
        <div>
          <h2 class="h2" id="aboutHeading" data-i18n="about.title">TPについて</h2>
          <div class="h2-sub" data-i18n="about.subtitle">1978年創業。世界規模で日本語キャリアを支援します。</div>
        </div>
      </div>

      <div class="card" style="display:grid;grid-template-columns:1fr 420px;gap:20px;align-items:start">
        <div>
          <p data-i18n="about.p1">
            TP（TP）は1978年にフランスで設立されたグローバルBPO企業です。世界100カ国以上、50万人超の仲間とともに、日本語を活かしたキャリアをマレーシア・タイで支援しています。Great Place to Work® 認定など、働きやすさに配慮した環境を提供しています。
          </p>

          <ul style="margin:14px 0 8px;padding-left:18px;color:var(--muted)">
            <li data-i18n="about.b1">就労ビザ（Employment Pass）申請のフルサポート（会社負担）。</li>
            <li data-i18n="about.b2">渡航サポート：片道航空券・到着後宿泊（6泊7日）・空港送迎。</li>
            <li data-i18n="about.b3">入社前後の生活サポート（住居案内・現地オリエンテーション）。</li>
          </ul>

          <p class="quote" data-i18n="about.cta_note">まずはカジュアル面談で不安を解消しましょう（オンライン・日本語対応）。</p>
        </div>

        <div>
          <div id="gallery" style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
            <!-- gallery images injected by JS (uses PPT-provided names when available) -->
          </div>
        </div>
      </div>
    </section>

    <!-- WHY JOIN -->
    <section id="why" class="reveal" aria-labelledby="whyHeading">
      <div class="section-head">
        <h3 class="h2" id="whyHeading" data-i18n="why.title">なぜ TP で働くか</h3>
        <div class="h2-sub" data-i18n="why.subtitle">安心と成長の両立 — 日本語を活かして海外で働く理由</div>
      </div>

      <div class="why-list" id="whyList">
        <!-- JS will populate -->
      </div>
    </section>

    <!-- CITIES -->
    <section id="cities" class="reveal" aria-labelledby="citiesHeading">
      <div class="section-head">
        <h3 class="h2" id="citiesHeading" data-i18n="cities.title">拠点紹介（KL・Penang・Bangkok）</h3>
      </div>

      <div class="cities" id="citiesGrid">
        <!-- JS injected -->
      </div>
    </section>

    <!-- BENEFITS (carousel) -->
    <section id="benefits" class="reveal" aria-labelledby="benefitsHeading">
      <div class="section-head">
        <h3 class="h2" id="benefitsHeading" data-i18n="benefits.title">福利厚生・サポート（詳）</h3>
      </div>

      <div class="card">
        <div class="carousel" aria-hidden="false" id="benefitsCarousel">
          <div class="slides" id="slides"></div>
        </div>
        <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
          <div style="color:var(--muted);font-size:13px" data-i18n="benefits.note">社内トレーニング・GoFluent等の語学ツール、JUMPプログラムでキャリア支援。</div>
          <div class="carousel-controls">
            <button id="prev" aria-label="Prev">◀</button>
            <button id="next" aria-label="Next">▶</button>
          </div>
        </div>
      </div>
    </section>

    <!-- COST & LIFE -->
    <section id="life" class="reveal" aria-labelledby="lifeHeading">
      <div class="section-head">
        <h3 class="h2" id="lifeHeading" data-i18n="life.title">現地の暮らし（物価・ライフスタイル）</h3>
      </div>
      <div class="card">
        <p data-i18n="life.p1">
          マレーシアは生活費が比較的安く、同じ収入でも、生活の豊かさが違います。高層コンドミニアムはジム・プール付きで、月家賃は場所により大きく差があります（例：RM1,500～2,500）。日本食や日本語対応医療も整っています。
        </p>
        <ul style="margin-top:10px;color:var(--muted)">
          <li data-i18n="life.item1">週末に近隣諸国へ気軽に旅行可能</li>
          <li data-i18n="life.item2">多彩な食文化で外食が楽しい</li>
          <li data-i18n="life.item3">日本人コミュニティや日本語サービスが整備</li>
        </ul>
      </div>
    </section>

    <!-- PROCESS -->
    <section id="process" class="reveal" aria-labelledby="processHeading">
      <div class="section-head">
        <h3 class="h2" id="processHeading" data-i18n="process.title">応募から渡航までのプロセス</h3>
      </div>
      <div class="card">
        <ol class="timeline" id="processList" style="margin:0;padding-left:12px">
          <!-- JS will render -->
        </ol>
      </div>
    </section>

    <!-- TEAM -->
    <section id="team" class="reveal" aria-labelledby="teamHeading">
      <div class="section-head">
        <h3 class="h2" id="teamHeading" data-i18n="team.title">採用チームを紹介</h3>
        <div class="h2-sub" data-i18n="team.subtitle">日本語で丁寧にサポートします</div>
      </div>

      <div class="team-grid" id="teamGrid">
        <!-- JS populates -->
      </div>
    </section>

    <!-- TESTIMONIALS -->
    <section id="testimonials" class="reveal">
      <div class="section-head">
        <h3 class="h2">社員の声</h3>
        <div class="h2-sub">現地で活躍する日本人スタッフのリアルな声</div>
      </div>
      <div class="grid cols-3" id="testiGrid">
        <!-- JS -->
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="reveal" aria-labelledby="faqHeading">
      <div class="section-head">
        <h3 class="h2" id="faqHeading" data-i18n="faq.title">よくある質問</h3>
      </div>
      <div class="card">
        <div class="accordion" id="faqList">
          <!-- JS will create Q&A entries -->
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="reveal" aria-labelledby="contactHeading">
      <div class="section-head">
        <h3 class="h2" id="contactHeading" data-i18n="contact.title">お問い合わせ / カジュアル面談</h3>
      </div>

      <div style="display:grid;grid-template-columns:1fr 360px;gap:20px;align-items:start">
        <form id="contactForm" class="card contact-form" aria-label="Contact form">
          <label for="name" data-i18n="contact.name">お名前</label>
          <input id="name" name="name" required>
          <label for="email" data-i18n="contact.email">メール</label>
          <input id="email" type="email" name="email" required>
          <label for="message" data-i18n="contact.message">メッセージ</label>
          <textarea id="message" name="message" rows="5"></textarea>
          <div style="display:flex;gap:10px;justify-content:flex-start;margin-top:10px">
            <button class="apply-btn" type="submit" data-i18n="contact.send">送信</button>
            <a class="lang-btn" href="https://forms.office.com/e/2UvpbweQww" target="_blank" data-i18n="contact.casual">カジュアル面談フォーム</a>
          </div>
          <div style="font-size:13px;color:var(--muted);margin-top:10px" data-i18n="contact.note">※ デモ送信 — 実運用はフォームまたはLineへ。</div>
        </form>

        <aside>
          <div class="card" style="text-align:center">
            <h4 data-i18n="contact.line_title">LINE公式アカウント</h4>
            <p data-i18n="contact.line_sub">最新求人や生活情報を配信中。気軽に相談してください。</p>
            <a class="apply-btn" href="https://line.me/R/ti/p/@286nmdsd?from=page&searchId=286nmdsd" target="_blank" data-i18n="contact.line_btn">LINEで相談する</a>
            <div style="margin-top:12px"><img id="lineQr" src="images/line-qr.png" alt="LINE QR (if uploaded)" style="max-width:220px;margin:auto" onerror="this.style.display='none'"></div>
          </div>
        </aside>
      </div>
    </section>

    <!-- FOOTER -->
    <div class="footer">
      <div>© TP — Malaysia & Thailand</div>
      <div style="font-size:13px;color:var(--muted);margin-top:8px">Content & materials based on internal microsite plan and recruitment brief.</div>
    </div>

    <a class="floating-apply" id="floatingApply" href="https://careerseng-TP.icims.com/jobs/49026/customer-service-representative---japanese-speaking-%28kl%29/job?mode=job&iis=LANDINGPAGE" target="_blank" aria-label="Apply">ご応募はこちら</a>
  </div>

  <!-- Large inline script: translations, rendering, interactions, animations -->
  <script>
  /************************************************************************
   * BIG single-file microsite JS
   * - i18n translations (JP / EN) for all visible text
   * - dynamic rendering (why list, cities, benefits, process, team, faq, testimonials)
   * - hero typewriter with array
   * - sakura canvas + mouse interaction
   * - carousel + autoplay for benefits
   * - reveal on scroll (IntersectionObserver)
   * - smooth scrolling
   * - contact form demo handling
   * - logo fallback
   *
   * This file intentionally contains a lot of content (copied / adapted from PPT)
   ************************************************************************/

  (function(){
    /* -------------------------
       TRANSLATIONS: detailed copy from PPT + English
       Keys correspond to data-i18n attributes and dynamic blocks
       ------------------------- */
    const translations = {
      ja: {
        'brand.title': 'TP',
        'brand.sub': 'Malaysia · Thailand — 日本語採用',
        'nav.about': '会社紹介',
        'nav.why': 'なぜTP',
        'nav.cities': '拠点',
        'nav.benefits': '福利厚生',
        'nav.process': '応募の流れ',
        'nav.faq': 'FAQ',
        'cta.apply': 'ご応募はこちら',
        'cta.jobs': '求人を見る',
        'cta.support': '移住サポートを見る',
        'hero.eyebrow': '暮らすように、海外で働く。',
        'hero.leading': 'あなたの新しいキャリアの舞台に、',
        'hero.lead': '多国籍な環境と、日本語を活かせる仕事。コストを抑えた快適な暮らしと、就労ビザ／移住サポートで初めての海外就職も安心して始められます。',
        'stat.countries': '100+','stat.countries_sub':'拠点国',
        'stat.people': '500K+','stat.people_sub':'従業員',
        'stat.jp_roles': '多数','stat.jp_roles_sub':'日本語ポジション',
        'about.title':'TPについて',
        'about.subtitle':'1978年創業。世界規模で日本語キャリアを支援します。',
        'about.p1':'TP（TP）は1978年にフランスで設立されたグローバルBPO企業です。世界100カ国以上、50万人超の仲間とともに、日本語を活かしたキャリアをマレーシア・タイで支援しています。Great Place to Work® 認定など、働きやすさに配慮した環境を提供しています。',
        'about.b1':'就労ビザ（Employment Pass）申請のフルサポート（会社負担）。',
        'about.b2':'渡航サポート：片道航空券・到着後宿泊（6泊7日）・空港送迎。',
        'about.b3':'入社前後の生活サポート（住居案内・現地オリエンテーション）。',
        'about.cta_note':'まずはカジュアル面談で不安を解消しましょう（オンライン・日本語対応）。',
        'why.title':'なぜ TP で働くか',
        'why.subtitle':'安心と成長の両立 — 日本語を活かして海外で働く理由',
        'why.points': [
          {title:'多国籍な学びの場',desc:'TPの拠点には世界中から仲間が集まり、日々の業務を通じて英語・異文化スキルが伸びます。'},
          {title:'日本語ポジション多数',desc:'カスタマーサポート、予約対応、Eコマースなど日本語を活かせるポジションが豊富です。'},
          {title:'移住＆ビザサポート',desc:'就労ビザの申請、渡航手配、初期宿泊のサポートまでトータルに支援します。'},
          {title:'キャリアアップ',desc:'トレーナー、QA、チームリーダーなど昇進の機会が多数あります。成果が正当に評価されます。'},
          {title:'福利厚生充実',desc:'医療保険、休暇制度、夜勤手当、住宅補助など、安心して働ける制度を用意しています。'},
          {title:'語学研修',desc:'GoFluentや社内ブートキャンプで語学力向上を支援します。'}
        ],
        'cities.title':'拠点紹介（KL・Penang・Bangkok）',
        'cities': [
          {title:'クアラルンプール (KL)', img:'images/kl.jpg', desc:'都市の利便性と多国籍文化。日本語対応施設や日本食も充実。'},
          {title:'ペナン (Penang)', img:'images/penang.jpg', desc:'歴史ある街並みと海に近いリゾート感。静かで生活コストも抑えめ。'},
          {title:'バンコク (Bangkok)', img:'images/bangkok.jpg', desc:'日本人コミュニティが大きく、生活インフラが整った国際都市。'}
        ],
        'benefits.title':'福利厚生・サポート（詳）',
        'benefits.list': [
          {title:'就労ビザサポート',desc:'会社が就労ビザ申請を代行します。'},
          {title:'渡航・宿泊サポート',desc:'片道航空券＋6泊7日の宿泊支援、空港送迎あり。'},
          {title:'給付・手当',desc:'夜勤手当、住宅補助、時間外手当など（プロジェクトにより異なる）。'},
          {title:'医療と保険',desc:'医療・歯科・眼科補助、団体保険など安心のケア。'},
          {title:'キャリア支援',desc:'JUMPプログラムや社内異動で幅広いキャリアを支援。'}
        ],
        'benefits.note':'社内トレーニング・語学ツールでキャリアを後押しします。',
        'life.title':'現地の暮らし（物価・ライフスタイル）',
        'life.p1':'マレーシアは生活費が比較的安く、日本より家賃や外食のコストを抑えながらゆとりある暮らしが可能です。日本食や日本語対応医療も整備されています。',
        'life.item1':'週末に近隣アジア諸国へ気軽に旅行可能',
        'life.item2':'多彩な食文化で外食が楽しい',
        'life.item3':'日本人コミュニティや日本語サービスが整備',
        'process.title':'応募から渡航までのプロセス',
        'process.steps': [
          {step:'Step 1',title:'書類選考',desc:'履歴書・職務経歴書の提出。日本語/英語どちらでも可。'},
          {step:'Step 2',title:'オンラインテスト',desc:'日本語・英語のスクリーニングおよび業務適性テスト（必要に応じて）。'},
          {step:'Step 3',title:'一次面接',desc:'採用チームによるオンライン面談（日本語対応）。'},
          {step:'Step 4',title:'二次面接',desc:'チームマネージャーとの面接（オンライン）。'},
          {step:'Step 5',title:'内定 → ビザ申請',desc:'オファー後、就労ビザ申請、渡航準備、到着後の宿泊・オリエンテーションをサポート。'}
        ],
        'team.title':'採用チームを紹介',
        'team.subtitle':'日本語で丁寧にサポートします',
        'team.list': [
          {name:'Maya', role:'採用マネージャー', img:'images/maya.jpg', bio:'日本と韓国のバックグラウンドを持ち、10年以上の採用経験。語学と文化の橋渡しを得意とします。'},
          {name:'Joseph', role:'シニアマネージャー', img:'images/joseph.jpg', bio:'APACで14年の採用経験を持つシニアマネージャー。候補者に寄り添う採用を心がけています。'},
          {name:'Akito', role:'採用担当', img:'images/akito.jpg', bio:'ホスピタリティ出身で候補者対応が得意です。'},
          {name:'Maho', role:'Talent Attraction', img:'images/maho.jpg', bio:'新卒から海外就職を経験し、未経験者のサポートに強みがあります。'},
          {name:'Koyori', role:'採用担当', img:'images/koyori.jpg', bio:'ペナン拠点担当。現地生活や物件情報に詳しいです。'}
        ],
        'faq.title':'よくある質問',
        'faq.list': [
          {q:'英語が苦手でも大丈夫ですか？', a:'はい。日本語対応の採用チームと現地サポートがあるため安心です。'},
          {q:'ビザは会社がサポートしますか？', a:'はい。就労ビザの取得は会社が申請をサポートします（会社負担）。家族のビザは別途費用が発生する場合があります。'},
          {q:'未経験でも応募できますか？', a:'はい。未経験・新卒歓迎のポジションも多数あります。研修とOJTで丁寧にサポートします。'}
        ],
        'contact.title':'お問い合わせ / カジュアル面談',
        'contact.name':'お名前','contact.email':'メール','contact.message':'メッセージ','contact.send':'送信',
        'contact.line_title':'LINE公式アカウント','contact.line_sub':'最新求人や現地情報を配信中。','contact.line_btn':'LINEで相談する',
        'footer.copy':'© 2025 TP - Malaysia & Thailand. All Rights Reserved.'
      },

      en: {
        'brand.title': 'TP',
        'brand.sub': 'Malaysia · Thailand — JP recruitment',
        'nav.about': 'About',
        'nav.why': 'Why TP',
        'nav.cities': 'Cities',
        'nav.benefits': 'Benefits',
        'nav.process': 'Process',
        'nav.faq': 'FAQ',
        'cta.apply': 'Apply Now',
        'cta.jobs': 'View Jobs',
        'cta.support': 'Relocation Support',
        'hero.eyebrow': 'Live abroad like home.',
        'hero.leading': 'Your next career stage —',
        'hero.lead': 'Work in a multicultural environment with many Japanese-speaking roles. We provide visa and relocation support so you can start overseas work with confidence.',
        'stat.countries': '100+','stat.countries_sub':'countries',
        'stat.people': '500K+','stat.people_sub':'employees',
        'stat.jp_roles': 'Many','stat.jp_roles_sub':'JP roles',
        'about.title':'About TP',
        'about.subtitle':'Established 1978 — Global BPO leader',
        'about.p1':'TP (TP) is a global BPO founded in Paris in 1978. Operating in 100+ countries with over 500k employees, TP offers Japanese-speaking opportunities in Malaysia and Thailand and emphasizes employee experience and growth.',
        'about.b1':'Full support for Employment Pass (work visa) application (company-sponsored).',
        'about.b2':'Relocation support: one-way ticket, initial hotel (6 nights), and airport pickup.',
        'about.b3':'Pre- and post-arrival support (housing guidance and local orientation).',
        'about.cta_note':'Start with a casual chat — online and Japanese support available.',
        'why.title':'Why work at TP?',
        'why.subtitle':'Stability & growth — use your Japanese skills abroad',
        'why.points': [
          {title:'Global learning environment',desc:'Work with colleagues worldwide and develop language and intercultural skills.'},
          {title:'Many JP roles',desc:'Plenty of Japanese-focused positions—great for beginners.'},
          {title:'Relocation & visa support',desc:'End-to-end relocation support including visa processing.'},
          {title:'Career progression',desc:'Opportunities to become trainer, QA, team leader, or manager.'},
          {title:'Benefits',desc:'Healthcare, leave policies, shift allowances, and gym support.'},
          {title:'Training & language',desc:'GoFluent and Language Bootcamp available for skill development.'}
        ],
        'cities.title':'Our locations (KL, Penang, Bangkok)',
        'cities': [
          {title:'Kuala Lumpur (KL)', img:'images/kl.jpg', desc:'A major international city with strong Japanese services and conveniences.'},
          {title:'Penang', img:'images/penang.jpg', desc:'Historic island with a relaxed lifestyle and lower living costs.'},
          {title:'Bangkok', img:'images/bangkok.jpg', desc:'Vibrant international hub with a large Japanese community.'}
        ],
        'benefits.title':'Benefits & Support (detailed)',
        'benefits.list': [
          {title:'Visa support',desc:'Company assists with Employment Pass application.'},
          {title:'Relocation',desc:'One-way air ticket + initial hotel (conditions apply) and airport pickup.'},
          {title:'Compensation & allowances',desc:'Shift allowances, housing support, overtime pay (project dependent).'},
          {title:'Health & insurance',desc:'Medical and dental assistance and group insurance.'},
          {title:'Career programs',desc:'Internal mobility and JUMP program for career growth.'}
        ],
        'benefits.note':'We support your career with internal training and language tools.',
        'life.title':'Cost of living & Lifestyle',
        'life.p1':'Malaysia typically offers lower living costs than Japan—housing, food and transport are often more affordable, enabling a comfortable lifestyle. Japanese food stores and JP-speaking medical services are available.',
        'life.item1':'Easy short-haul travel to neighboring Asian countries',
        'life.item2':'Rich and diverse food scene',
        'life.item3':'Strong Japanese community and JP services',
        'process.title':'Application & relocation process',
        'process.steps': [
          {step:'Step 1',title:'CV screening',desc:'Submit your resume/CV in JP or EN.'},
          {step:'Step 2',title:'Online tests',desc:'Language and skills screening (as required).'},
          {step:'Step 3',title:'1st interview',desc:'Recruiter interview (online, JP available).'},
          {step:'Step 4',title:'2nd interview',desc:'Hiring manager interview.'},
          {step:'Step 5',title:'Offer & visa',desc:'Offer, visa application, relocation support, and onboarding.'}
        ],
        'team.title':'Meet the TA Team',
        'team.subtitle':'We support you in Japanese',
        'team.list': [
          {name:'Maya', role:'Hiring Manager', img:'images/maya.jpg', bio:'Bilingual JP/KR, 10+ years in APAC hiring. Passionate about candidate success.'},
          {name:'Joseph', role:'Senior Manager', img:'images/joseph.jpg', bio:'14 years in APAC recruitment; focuses on candidate-centric hiring.'},
          {name:'Akito', role:'Recruiter', img:'images/akito.jpg', bio:'Hospitality background with strong candidate support skills.'},
          {name:'Maho', role:'Talent Attraction', img:'images/maho.jpg', bio:'Experience in supporting fresh grads for overseas roles.'},
          {name:'Koyori', role:'Recruiter (Penang)', img:'images/koyori.jpg', bio:'Local Penang expert for daily life and housing guidance.'}
        ],
        'faq.title':'FAQ',
        'faq.list': [
          {q:'Not confident in English — is it okay?', a:'Yes. Recruiting and local teams provide Japanese support.'},
          {q:'Will the company support my visa?', a:'Yes — the company manages Employment Pass application (company-sponsored). Family visa costs are usually separate.'},
          {q:'Can I apply without experience?', a:'Yes — we have positions for new graduates and inexperienced applicants with training available.'}
        ],
        'contact.title':'Contact / Casual chat',
        'contact.name':'Name','contact.email':'Email','contact.message':'Message','contact.send':'Send',
        'contact.line_title':'Official LINE account','contact.line_sub':'Get job updates and local tips','contact.line_btn':'Chat on LINE',
        'footer.copy':'© 2025 TP - Malaysia & Thailand. All Rights Reserved.'
      }
    };

    /* --------- helper: translate data-i18n elements ---------- */
    function applyTranslations(lang){
      // static keys
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if(!key) return;
        const val = translations[lang][key];
        if(typeof val === 'string' || typeof val === 'number'){
          el.innerHTML = val;
        }
      });
      // populate dynamic blocks
      renderWhyList(lang);
      renderCities(lang);
      renderBenefits(lang);
      renderProcess(lang);
      renderTeam(lang);
      renderFaq(lang);
      renderTestimonials(lang);
      renderGallery();
      // update CTAs
      document.getElementById('applyJobs').href = applicationLink;
      document.getElementById('applyTop').href = applicationLink;
      document.getElementById('floatingApply').href = applicationLink;
    }

    /* --------------- dynamic content renderers ---------------- */
    function renderWhyList(lang){
      const container = document.getElementById('whyList');
      container.innerHTML = '';
      const items = translations[lang]['why.points'];
      items.forEach(it=>{
        const d = document.createElement('div');
        d.className = 'why-item card reveal';
        d.innerHTML = `<h4 style="margin-top:0">${escapeHtml(it.title)}</h4><p style="color:var(--muted);margin-top:8px">${escapeHtml(it.desc)}</p>`;
        container.appendChild(d);
        observeReveal(d);
      });
    }

    function renderCities(lang){
      const container = document.getElementById('citiesGrid');
      container.innerHTML = '';
      const list = translations[lang]['cities'];
      list.forEach(c=>{
        const d = document.createElement('div');
        d.className = 'city reveal';
        const imgSrc = c.img || fallbackImage;
        d.innerHTML = `<img src="${imgSrc}" alt="${escapeHtml(c.title)}" style="width:100%;height:100%;object-fit:cover" onerror="this.src='${fallbackImage}'"><div class="overlay"><strong>${escapeHtml(c.title)}</strong><div style="font-size:13px;margin-top:6px">${escapeHtml(c.desc)}</div></div>`;
        container.appendChild(d);
        observeReveal(d);
      });
    }

    function renderBenefits(lang){
      const slides = document.getElementById('slides');
      slides.innerHTML = '';
      const list = translations[lang]['benefits.list'];
      list.forEach(b=>{
        const s = document.createElement('div');
        s.className = 'slide reveal';
        s.innerHTML = `<h4 style="margin:0 0 8px">${escapeHtml(b.title)}</h4><p style="color:var(--muted);margin:0">${escapeHtml(b.desc)}</p>`;
        slides.appendChild(s);
        observeReveal(s);
      });
      // restart carousel
      setTimeout(()=>{ initCarousel(); }, 200);
    }

    function renderProcess(lang){
      const listEl = document.getElementById('processList');
      listEl.innerHTML = '';
      translations[lang]['process.steps'].forEach(step=>{
        const li = document.createElement('li');
        li.className = 'reveal';
        li.innerHTML = `<strong style="display:block;font-weight:700">${escapeHtml(step.step)} — ${escapeHtml(step.title)}</strong><div style="color:var(--muted);margin-top:6px">${escapeHtml(step.desc)}</div>`;
        listEl.appendChild(li);
        observeReveal(li);
      });
    }

    function renderTeam(lang){
      const grid = document.getElementById('teamGrid');
      grid.innerHTML = '';
      translations[lang]['team.list'].forEach(m=>{
        const div = document.createElement('div');
        div.className = 'member reveal card';
        const imgSrc = m.img || 'images/default-avatar.png';
        div.innerHTML = `<img src="${imgSrc}" alt="${escapeHtml(m.name)}" onerror="this.style.display='none'"><h4 style="margin:6px 0 2px">${escapeHtml(m.name)}</h4><div style="color:var(--muted);font-size:13px">${escapeHtml(m.role || '')}</div><p style="font-size:13px;color:var(--muted);margin-top:8px">${escapeHtml(m.bio)}</p>`;
        grid.appendChild(div);
        observeReveal(div);
      });
    }

    function renderFaq(lang){
      const container = document.getElementById('faqList');
      container.innerHTML = '';
      translations[lang]['faq.list'].forEach(q=>{
        const el = document.createElement('div');
        el.className = 'faq-item';
        el.innerHTML = `<button class="q">${escapeHtml(q.q)}</button><div class="a">${escapeHtml(q.a)}</div>`;
        container.appendChild(el);
      });
      // add listeners
      container.querySelectorAll('.q').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const a = btn.nextElementSibling;
          const open = a.style.display === 'block';
          container.querySelectorAll('.a').forEach(x=> x.style.display = 'none');
          a.style.display = open ? 'none' : 'block';
        });
      });
    }

    function renderTestimonials(lang){
      const dest = document.getElementById('testiGrid');
      if(!dest) return;
      dest.innerHTML = '';
      // Hard-coded testimonials using PPT content
      const testimonials = [
        {quote: (lang==='ja' ? '物価が安いから、カフェ巡りや外食が気軽に楽しめるようになりました。' : 'Lower living costs mean you can enjoy cafes and dining more often.'), person:'30代・男性'},
        {quote: (lang==='ja' ? '通勤ストレスがなく、平日の夜もゆったり過ごせます。' : 'Less commuting stress—more time for yourself.'), person:'20代・女性'},
        {quote: (lang==='ja' ? '仕事もプライベートもバランスよく楽しめています。' : 'Enjoy a balanced work and personal life.'), person:'30代・女性'}
      ];
      testimonials.forEach(t=>{
        const d = document.createElement('div');
        d.className = 'card reveal';
        d.innerHTML = `<p style="font-style:italic">${escapeHtml(t.quote)}</p><div style="margin-top:10px;font-weight:700">${escapeHtml(t.person)}</div>`;
        dest.appendChild(d);
        observeReveal(d);
      });
    }

    function renderGallery(){
      const gallery = document.getElementById('gallery');
      if(!gallery) return;
      gallery.innerHTML = '';
      const galleryImgs = [
        'images/IMG_4192.jpeg',
        'images/IMG_4193.jpeg',
        'images/IMG_4271.jpeg',
        'images/IMG_4270.jpeg',
        'images/IMG_4275.jpeg',
        'images/IMG_1450.JPG'
      ];
      galleryImgs.forEach(src=>{
        const img = document.createElement('img');
        img.src = src;
        img.alt = 'office photo';
        img.style.width = '100%';
        img.style.borderRadius = '8px';
        img.style.objectFit = 'cover';
        img.loading = 'lazy';
        img.onerror = function(){ this.style.display='none'; };
        gallery.appendChild(img);
      });
    }

    /* --------------- Utility & small helpers ---------------- */
    function escapeHtml(s){
      if(!s && s !== 0) return '';
      return String(s).replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; });
    }

    // IntersectionObserver for reveal
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('in-view');
          io.unobserve(e.target);
        }
      });
    },{threshold:0.12});
    function observeReveal(el){
      el.classList.add('reveal');
      io.observe(el);
    }

    /* -------------------------
       Typewriter (hero)
       ------------------------- */
    const typeTextsJP = ['マレーシア・タイという選択。','グローバルなキャリア。','安心の移住サポート。'];
    const typeTextsEN = ['Malaysia & Thailand.','Global career opportunities.','Trusted relocation support.'];
    let typeIndex = 0, charIndex = 0, deleting=false;
    const heroNode = document.getElementById('heroType');
    function tick(){
      const lang = currentLang;
      const texts = (lang === 'ja') ? typeTextsJP : typeTextsEN;
      const current = texts[typeIndex % texts.length];
      if(!deleting){
        heroNode.textContent = current.substring(0, charIndex+1);
        charIndex++;
        if(charIndex === current.length){
          deleting = true;
          setTimeout(tick, 1400);
          return;
        }
      } else {
        heroNode.textContent = current.substring(0, charIndex-1);
        charIndex--;
        if(charIndex === 0){
          deleting = false;
          typeIndex = (typeIndex + 1) % texts.length;
        }
      }
      setTimeout(tick, deleting ? 40 : 80);
    }

    /* -------------------------
       Carousel for benefits
       ------------------------- */
    let carouselIndex = 0;
    let carouselTimer = null;
    function initCarousel(){
      const slidesEl = document.getElementById('slides');
      if(!slidesEl) return;
      const items = slidesEl.children;
      if(items.length === 0) return;
      const prev = document.getElementById('prev');
      const next = document.getElementById('next');

      function update(){
        const width = items[0].offsetWidth + 12;
        slidesEl.style.transform = `translateX(${-carouselIndex * width}px)`;
      }
      if(prev) prev.onclick = ()=>{ carouselIndex = Math.max(0, carouselIndex-1); update(); resetAutoplay(); };
      if(next) next.onclick = ()=>{ carouselIndex = Math.min(Math.max(0, items.length-1), carouselIndex+1); update(); resetAutoplay(); };
      window.addEventListener('resize', update);
      function play(){ carouselTimer = setInterval(()=>{ carouselIndex = (carouselIndex + 1) % items.length; update(); }, 4200); }
      function resetAutoplay(){ clearInterval(carouselTimer); play(); }
      play();
      setTimeout(update, 100); // initial
    }

    /* -------------------------
       Sakura petals (canvas) with mouse interaction
       ------------------------- */
    const canvas = document.getElementById('sakuraCanvas');
    let ctx = canvas && canvas.getContext ? canvas.getContext('2d') : null;
    const FALL_COUNT = 26;
    let petals = [];
    let width = 0, height = 0;
    function setupCanvas(){
      if(!canvas || !ctx) return;
      const rect = canvas.getBoundingClientRect();
      width = rect.width;
      height = rect.height;
      canvas.width = width * devicePixelRatio;
      canvas.height = height * devicePixelRatio;
      canvas.style.width = rect.width + 'px';
      canvas.style.height = rect.height + 'px';
      ctx.scale(devicePixelRatio, devicePixelRatio);
      petals = [];
      for(let i=0;i<FALL_COUNT;i++){
        petals.push(createPetal());
      }
    }
    function createPetal(){
      return {
        x: Math.random()*width,
        y: Math.random()*height,
        r: 6 + Math.random()*8,
        speed: 0.6 + Math.random()*1.6,
        sway: Math.random()*1.6 - 0.8,
        angle: Math.random()*Math.PI*2,
        spin: (Math.random()*0.02 - 0.01),
        drift: (Math.random()*0.6 - 0.3)
      };
    }
    function drawPetal(p){
      ctx.save();
      ctx.beginPath();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.angle);
      ctx.ellipse(0,0,p.r, p.r*0.6, 0, 0, Math.PI*2);
      ctx.fillStyle = 'rgba(255,182,193,0.9)'; // sakura-like
      ctx.fill();
      ctx.restore();
    }
    function updatePetals(){
      if(!ctx) return;
      ctx.clearRect(0,0,width,height);
      for(const p of petals){
        p.y += p.speed;
        p.x += p.drift + Math.sin(p.y * 0.01) * p.sway;
        p.angle += p.spin;
        if(p.y > height + 20){
          // reset at top
          p.y = -10 - Math.random()*50;
          p.x = Math.random()*width;
        }
        if(p.x < -50) p.x = width + 50;
        if(p.x > width + 50) p.x = -50;
        drawPetal(p);
      }
      requestAnimationFrame(updatePetals);
    }
    // mouse interaction: create gust
    let mouse = {x:0,y:0,moved:false};
    function handleMouse(e){
      const r = canvas.getBoundingClientRect();
      mouse.x = e.clientX - r.left;
      mouse.y = e.clientY - r.top;
      mouse.moved = true;
      for(const p of petals){
        const dx = p.x - mouse.x;
        const dy = p.y - mouse.y;
        const dist = Math.sqrt(dx*dx + dy*dy);
        if(dist < 120){
          p.drift += (dx/dist) * 0.6;
          p.speed += 0.2;
        }
      }
    }

    /* -------------------------
       Logo fallback & small UX
       ------------------------- */
    function initLogoFallback(){
      const logo = document.getElementById('logoImg');
      logo.addEventListener('error', ()=>{
        logo.style.display = 'none';
        const brand = document.getElementById('brandLink');
        const fallback = document.createElement('div');
        fallback.innerHTML = '<div style="font-weight:800;font-size:18px">TP</div><div style="font-size:12px;color:var(--muted)">Malaysia · Thailand</div>';
        brand.appendChild(fallback);
      });
    }

    /* -------------------------
       Smooth scroll for internal anchors
       ------------------------- */
    function initSmoothScroll(){
      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click', (e)=>{
          const href = a.getAttribute('href');
          if(!href || href === '#') return;
          const target = document.querySelector(href);
          if(target){
            e.preventDefault();
            const top = target.getBoundingClientRect().top + window.pageYOffset - 80;
            window.scrollTo({top, behavior:'smooth'});
            history.replaceState && history.replaceState(null, '', href);
          }
        });
      });
    }

    /* -------------------------
       Contact form demo handler
       ------------------------- */
    function initContact(){
      const form = document.getElementById('contactForm');
      if(!form) return;
      form.addEventListener('submit', (e)=>{
        e.preventDefault();
        const name = document.getElementById('name').value.trim();
        if(!name){
          alert(currentLang==='ja' ? 'お名前を入力してください。' : 'Please enter your name.');
          return;
        }
        alert(currentLang==='ja' ? `ありがとうございました、${name}さん。お問い合わせを受け付けました（デモ）。` : `Thanks ${name}. Your message was received (demo).`);
        form.reset();
      });
    }

    /* -------------------------
       Initialize page state
       ------------------------- */
    const applicationLink = 'https://careerseng-TP.icims.com/jobs/49026/customer-service-representative---japanese-speaking-%28kl%29/job?mode=job&iis=LANDINGPAGE';
    const fallbackImage = 'https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?auto=format&fit=crop&w=1200&q=80';
    let currentLang = 'ja';

    function init(){
      initLogoFallback();
      // translations & dynamic render
      applyTranslations(currentLang);
      // hero typewriter
      tick(); // start typewriter
      // populate gallery uses PPT files when present (renderGallery)
      renderGallery();
      // canvas setup
      setupCanvas();
      if(ctx){
        canvas.addEventListener('mousemove', handleMouse);
        window.addEventListener('resize', setupCanvas);
        updatePetals();
      }
      // init carousel
      initCarousel();
      // reveal observers
      document.querySelectorAll('.reveal').forEach(el=> observeReveal(el));
      // contact
      initContact();
      // smooth scroll
      initSmoothScroll();
      // language toggle
      const langToggle = document.getElementById('langToggle');
      langToggle.addEventListener('click', ()=>{
        currentLang = currentLang === 'ja' ? 'en' : 'ja';
        langToggle.textContent = currentLang === 'ja' ? 'EN' : '日本語';
        applyTranslations(currentLang);
      });
      // hero image safe fallback
      const heroCover = document.getElementById('heroCover');
      heroCover.addEventListener('error', ()=>{ heroCover.src = fallbackImage; });
    }

    // run init after DOM ready
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', init);
    } else init();

    // small accessibility: close open FAQ when clicking outside
    document.addEventListener('click', (e)=>{
      const faq = document.getElementById('faqList');
      if(!faq) return;
      if(!faq.contains(e.target)){
        faq.querySelectorAll('.a').forEach(a=> a.style.display='none');
      }
    });

  })();
  </script>

  <!-- End of file -->
</body>
</html>
