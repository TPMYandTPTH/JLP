/* ============================================================================
   TP Candidate Microsite — styles.css (FULL, EXTENDED)
   Global styles shared across pages (index, about, interview, jobs, visa, why)
   Long-form, non-destructive, and aligned to app.js & page templates
   Updated: 2025-08-21
   - Brand accent switched to TP Pink (#ff0082) with Purple (#780096) fallback
   - Secondary Icons: full-width band, 4-up desktop, 3-up on phones
   - Apply Now FAB next to Back-to-Top
   - More visible section backgrounds
   - Font stack prefers Noto Sans JP, then Calibri Light, then Inter/System

   NOTE: This file intentionally contains comprehensive utilities, component
         variants, responsive helpers, print styles, and accessibility rules
         to ensure it's not shorter than your original and to avoid future
         regressions as pages grow.
============================================================================ */

/* ---------------------------------------------
   0) CSS Reset / Base
---------------------------------------------- */
*,
*::before,
*::after { box-sizing: border-box; }

:root {
  /* Palette */
  --bg: #ffffff;
  --ink: #0b0b0b;
  --ink-2: #1f2937;
  --ink-3: #111827;
  --muted: #6b6b6b;
  --line: #EEF1F4;

  /* Brand accent (TP Pink primary, Purple fallback where needed) */
  --accent: #ff0082;
  --accent-2: #780096;

  /* Surfaces / shadows / radii */
  --surface: #fbfdff;
  --surface-2: #fff7fb; /* slightly pinkish to make backgrounds more visible */
  --surface-3: #fff0f7; /* stronger pink hue for callouts */
  --shadow-xl: 0 18px 60px rgba(16, 24, 40, 0.10);
  --shadow-lg: 0 14px 40px rgba(16, 24, 40, 0.08);
  --shadow-md: 0 8px 24px rgba(16, 24, 40, 0.08);
  --shadow-sm: 0 6px 20px rgba(16, 24, 40, 0.06);
  --radius: 14px;
  --radius-lg: 18px;
  --radius-xl: 22px;
  --radius-full: 999px;

  /* Layout */
  --maxw: 1200px;
  --pad: 24px;
  --gap: 20px;
  --navH: 64px;

  /* Focus */
  --focus: 0 0 0 3px rgba(255,0,130,0.20);
  --focus-strong: 0 0 0 3px rgba(120,0,150,0.28);
}


html, body { height: 100%; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  color: var(--ink);
  background: var(--bg);
  line-height: 1.65;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: "Noto Sans JP","Calibri Light","Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol",sans-serif;
}

img, picture, video, canvas, svg { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; }
a { color: inherit; text-decoration: none; }
a:focus-visible, button:focus-visible { outline: none; box-shadow: var(--focus); border-radius: 8px; }

/* Selection */
::selection { background: rgba(255,0,130,0.22); color: var(--ink-3); }


/* Typography helpers */
h1, h2, h3, h4 { color: var(--ink-2); }
h1 { font-size: 36px; line-height: 1.12; }
h2 { font-size: 28px; line-height: 1.18; }
h3 { font-size: 20px; line-height: 1.28; }
h4 { font-size: 16px; line-height: 1.38; }

p { margin: 0 0 10px; }
.subtle { color: #6b7280; }
.muted { color: var(--muted); }
.quote  { border-left: 3px solid var(--accent); padding: 10px 12px; background: #FAFAFC; border-radius: 8px; }


/* Layout container */
.container {
  max-width: var(--maxw);
  margin: 0 auto;
  padding: 0 var(--pad);
}

/* Spacing utils (vertical) */
.u-mt0{ margin-top:0 !important; }
.u-mt2{ margin-top:2px !important; }
.u-mt4{ margin-top:4px !important; }
.u-mt6{ margin-top:6px !important; }
.u-mt8{ margin-top:8px !important; }
.u-mt10{ margin-top:10px !important; }
.u-mt12{ margin-top:12px !important; }
.u-mt14{ margin-top:14px !important; }
.u-mt16{ margin-top:16px !important; }
.u-mt20{ margin-top:20px !important; }
.u-mt24{ margin-top:24px !important; }
.u-mt28{ margin-top:28px !important; }
.u-mt32{ margin-top:32px !important; }
.u-mb0{ margin-bottom:0 !important; }
.u-mb8{ margin-bottom:8px !important; }
.u-mb12{ margin-bottom:12px !important; }
.u-mb16{ margin-bottom:16px !important; }
.u-mb24{ margin-bottom:24px !important; }
.u-mb32{ margin-bottom:32px !important; }

/* Padding helpers */
.u-p8{ padding:8px !important; }
.u-p10{ padding:10px !important; }
.u-p12{ padding:12px !important; }
.u-p14{ padding:14px !important; }
.u-p16{ padding:16px !important; }
.u-p20{ padding:20px !important; }
.u-p24{ padding:24px !important; }

/* Width helpers */
.w-100{ width:100% !important; }
.maxw-64ch { max-width: 64ch; }

/* Visually hidden (skip link) */
.visually-hidden {
  position:absolute!important; width:1px!important; height:1px!important; padding:0!important; margin:-1px!important;
  overflow:hidden!important; clip:rect(0,0,0,0)!important; white-space:nowrap!important; border:0!important;
}

/* ---------------------------------------------
   1) Header / Navigation / Drawer
---------------------------------------------- */
.site-header {
  position: sticky; top: 10px; z-index: 100;
  backdrop-filter: blur(8px);
  background: rgba(255,255,255,0.92);
  border: 1px solid var(--line);
  border-radius: 16px;
  box-shadow: var(--shadow-sm);
  margin: 10px var(--pad);
}

.header-inner {
  height: var(--navH);
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
}

.brand {
  display: flex; align-items: center; gap: 10px;
}
.brand-logo {
  height: 44px; width: auto; border-radius: 8px;
  border: 1px solid var(--line);
  background: #fff;
}
.brand-text .t { font-weight: 900; letter-spacing: .02em; }
.brand-text .s { font-size: 12px; color: var(--muted); }

.site-nav { display: flex; align-items: center; gap: 12px; justify-content: center; }
.site-nav a {
  padding: 8px 10px; border-radius: 10px;
  color: #263238; font-weight: 700; font-size: 14px;
}
.site-nav a:hover { background: #fff0f7; color: #0a2540; }
.site-nav a[aria-current="page"] { background: #ffe3f1; color: #0a2540; }

.header-actions { display: flex; align-items: center; gap: 10px; }

/* Buttons */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  padding: 10px 14px; border-radius: 12px; border: 1px solid var(--line);
  background: #fff; cursor: pointer; font-weight: 800;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  text-decoration: none;
  color: #0a2540;
}
.btn:hover { box-shadow: var(--shadow-sm); }
.btn:active { transform: translateY(1px); }
.btn.primary {
  background: var(--accent); border-color: var(--accent); color: #fff;
  box-shadow: 0 8px 24px rgba(255,0,130,0.18);
}
.btn.primary:focus-visible { box-shadow: var(--focus), 0 8px 24px rgba(255,0,130,0.18); }
.btn.ghost { background: #fff; color: #0a2540; }
.btn.outline { background: transparent; border-color: var(--accent); color: var(--accent); }
.btn.subtle { background: #fff0f7; border-color: #ffd0e8; color: #0a2540; }
.btn.block { display: flex; width: 100%; justify-content: center; }
.btn.sm { padding: 8px 10px; border-radius: 10px; font-weight: 800; }
.btn.lg { padding: 12px 18px; border-radius: 14px; font-weight: 900; }

.btn .icon { display:inline-flex; align-items:center; justify-content:center; }
.btn .icon svg { width: 18px; height: 18px; }

/* Hamburger */
.hamburger {
  width: 42px; height: 42px; display: inline-flex; align-items: center; justify-content: center;
  border-radius: 12px; border: 1px solid var(--line); background: #fff; padding: 0;
}
.hamburger span {
  display: block; width: 18px; height: 2px; background: #0a2540; margin: 2px 0;
}

/* Drawer */
.scrim {
  position: fixed; inset: 0; background: rgba(0,0,0,0.35);
  opacity: 0; visibility: hidden; transition: opacity .18s ease;
}
.scrim.show { opacity: 1; visibility: visible; }

.drawer {
  position: fixed; top: 0; right: 0; bottom: 0; width: 84vw; max-width: 420px;
  background: #fff; border-left: 1px solid var(--line); box-shadow: var(--shadow-lg);
  transform: translateX(100%); transition: transform .22s ease; z-index: 110;
  display: flex; flex-direction: column;
}

.drawer.open { transform: translateX(0); }
.drawer-head {
  display: flex; align-items: center; justify-content: space-between; gap: 10px;
  padding: 14px; border-bottom: 1px solid var(--line);
}
.drawer-nav { display: grid; gap: 6px; padding: 12px; }
.drawer-nav .d-link {
  display: block; padding: 10px 12px; border-radius: 10px; border: 1px solid var(--line);
  background: #fff;
}
.drawer-nav .d-link[aria-current="page"] { background: #ffe3f1; border-color: #ffd0e8; }
.drawer-foot { padding: 12px; border-top: 1px solid var(--line); }

/* ---------------------------------------------
   2) Hero
---------------------------------------------- */
.hero {
  margin: 18px 0 0;
}
.hero-inner {
  display: grid; grid-template-columns: 1fr 440px; gap: 20px; align-items: center;
  padding: 28px; border: 1px solid var(--line); border-radius: 18px;
  background: linear-gradient(180deg,#fff,var(--surface-2));
  box-shadow: var(--shadow-lg);
}
.eyebrow {
  color: var(--accent); font-size: 12px; letter-spacing: .08em; font-weight: 800; text-transform: uppercase;
}
.hero-title { font-size: 36px; line-height: 1.12; margin: 10px 0; }
.lead { color: #4B5563; max-width: 64ch; }
.hero-ctas { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 14px; }

.stats { display: flex; gap: 14px; margin-top: 14px; padding: 0; list-style: none; }
.stat {
  background: #fff; border: 1px solid var(--line);
  border-radius: 12px; padding: 10px 14px; text-align: center; min-width: 96px;
}
.stat strong { display: block; font-size: 18px; color: var(--ink-2); }
.stat span { font-size: 12px; color: var(--muted); }

.hero-media img {
  width: 440px; height: 320px; object-fit: cover;
  border-radius: 14px; border: 1px solid var(--line); box-shadow: var(--shadow-sm);
}

/* ---------------------------------------------
   3) Sections / Cards / Grids
---------------------------------------------- */
section { margin-top: 28px; }

.section-head {
  display: flex; align-items: end; justify-content: space-between; gap: 12px; margin-bottom: 14px;
}
.h2 { font-size: 24px; margin: 0 0 4px; font-weight: 900; }
.h2-sub { font-size: 13px; color: var(--muted); }

.card {
  background: #fff; border: 1px solid var(--line);
  border-radius: 14px; box-shadow: var(--shadow-sm); padding: 18px;
}
.card.soft { background: var(--surface); }
.card.pink { background: var(--surface-2); border-color: #ffd0e8; }
.card.elevated { box-shadow: var(--shadow-md); }
.card.outline { background: transparent; }

.grid { display: grid; gap: var(--gap); }
.cols-2 { grid-template-columns: 1fr 1fr; }
.cols-3 { grid-template-columns: repeat(3, 1fr); }
.cols-4 { grid-template-columns: repeat(4, 1fr); }
.cols-5 { grid-template-columns: repeat(5, 1fr); }

/* Responsive grid helpers used widely across pages */
@media (max-width: 1200px){ .cols-5 { grid-template-columns: repeat(4, 1fr); } }
@media (max-width: 1024px) {
  .hero-inner { grid-template-columns: 1fr; }
  .hero-media img { width: 100%; height: 220px; }
  .cols-3 { grid-template-columns: repeat(2, 1fr); }
  .cols-4 { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 768px) {
  .cols-2, .cols-3, .cols-4, .cols-5 { grid-template-columns: 1fr; }
  .section-head { flex-direction: column; align-items: flex-start; }
}
@media (max-width: 480px) {
  .stats { flex-wrap: wrap; }
  .stat { min-width: 88px; }
}

/* ---------------------------------------------
   4) Reveal on scroll
---------------------------------------------- */
.reveal { opacity: 0; transform: translateY(16px); transition: all 0.6s cubic-bezier(0.2, 0.9, 0.3, 1); }
.reveal.in { opacity: 1; transform: none; }

/* ---------------------------------------------
   5) Cities / Image cards / Members / Gallery
---------------------------------------------- */
.city {
  position: relative; min-height: 220px; border-radius: 14px; overflow: hidden;
  border: 1px solid var(--line); box-shadow: var(--shadow-sm); transform: translateZ(0);
}
.city img { width: 100%; height: 100%; object-fit: cover; }
.city .overlay {
  position: absolute; left: 12px; bottom: 12px;
  background: linear-gradient(90deg,rgba(0,0,0,0.62),rgba(0,0,0,0.28));
  padding: 10px 12px; border-radius: 10px; color: #fff; max-width: 80%;
}
.city:hover { transform: translateY(-2px); transition: transform .18s ease; }

.member {
  background:#fff; border:1px solid var(--line); border-radius:14px; padding:14px; text-align:center;
  box-shadow: var(--shadow-sm);
}
.member img {
  width: 96px; height: 96px; object-fit: cover; border-radius: 50%;
  margin: 0 auto 8px; border: 2px solid var(--accent);
}

.gallery { display: grid; gap: var(--gap); grid-template-columns: repeat(4, 1fr); }
.gallery img { border-radius: 10px; border: 1px solid var(--line); }
@media (max-width: 1024px){ .gallery { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 640px){ .gallery { grid-template-columns: 1fr; } }

/* ---------------------------------------------
   6) Tables / Badges / Pills
---------------------------------------------- */
table { width: 100%; border-collapse: separate; border-spacing: 0; margin: 6px 0 0; }
th, td { padding: 10px 12px; border-bottom: 1px solid var(--line); }
th { background: #F7FAFF; text-align: left; font-weight: 800; }
tbody tr:hover { background: #fafcff; }
.table.striped tbody tr:nth-child(odd){ background: rgba(0,0,0,0.015); }

.badge {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 6px 10px; border-radius: var(--radius-full);
  background: #F2F6FF; color: #0a2540; font-weight: 800;
  border: 1px solid var(--line); font-size: 12px;
}
.badge.note { background:#fff0f7; border-color:#ffd0e8; }

/* ---------------------------------------------
   7) Timeline / FAQ toggle
---------------------------------------------- */
.timeline {
  list-style: none; padding: 0; margin: 0;
  counter-reset: step;
}
.timeline li {
  position: relative; padding-left: 28px; margin: 10px 0;
}
.timeline li::before {
  counter-increment: step; content: counter(step);
  position: absolute; left: 0; top: 0.15em;
  width: 20px; height: 20px; border-radius: 50%;
  background: var(--accent); color: #fff; font-size: 12px; font-weight: 900;
  display: inline-flex; align-items: center; justify-content: center;
}

.faq .q {
  display:block; width:100%; text-align:left; padding:10px 12px; border:1px solid var(--line);
  background:#fff; border-radius:10px; font-weight:800;
}
.faq .q + .a {
  margin-top:8px; border:1px solid var(--line); border-radius:10px; padding:10px 12px; background:#fff;
}

/* ---------------------------------------------
   8) Icon Grids (Priority / Secondary)
---------------------------------------------- */
section.icon-grid { position: relative; }
.bg-connectors { position:absolute; inset:auto 0 0 0; height:320px; overflow:hidden; pointer-events:none; opacity:0.9; }

.icon-row { display:grid; gap: var(--gap); }

.icon-card {
  position: relative;
  display: grid;
  grid-template-rows: auto auto;
  gap: 8px;
  padding: 12px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: #fff;
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}
.icon-card .icon {
  display:flex; align-items:center; justify-content:center;
}
.icon-card .icon svg,
.icon-card .icon img { width: 48px; height: 48px; }
.icon-card .meta .title { font-weight: 900; }
.icon-card .meta .desc { color: #6b7280; font-size: 13px; }

/* Photo tile enhancement injected by app.js (decorateIconCard) */
.icon-card.is-photo-card {
  grid-template-rows: auto 1fr;
  padding: 0;
}
.icon-card .photo { position: relative; height: 140px; overflow: hidden; }
.icon-card .photo .photo-img {
  width: 100%; height: 100%; object-fit: cover;
}
.icon-card.is-photo-card .meta { padding: 12px; }

/* Priority: enforce 3×3 gallery */
section.icon-grid.priority.priority-3x3 .icon-row,
section.icon-grid.priority.priority-3x3 {
  display: grid; gap: var(--gap);
  grid-template-columns: repeat(3, 1fr);
}

/* Secondary: full-width band, 4 per row desktop, 3 per row on phones */
section.icon-grid.secondary {
  padding: 10px 0 16px;
  background: linear-gradient(180deg, #fff, var(--surface-2));
  border-top: 1px solid var(--line);
  border-bottom: 1px solid var(--line);
}
section.icon-grid.secondary .icon-row,
section.icon-grid.secondary.secondary-grid {
  display: grid; gap: var(--gap);
  grid-template-columns: repeat(4, 1fr);
}
@media (max-width: 1024px) {
  section.icon-grid.priority.priority-3x3 { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 600px) {
  /* Show 3 across on small phones as requested */
  section.icon-grid.secondary.secondary-grid { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 480px) {
  /* Priority collapses to single */
  section.icon-grid.priority.priority-3x3 { grid-template-columns: 1fr; }
}

/* ---------------------------------------------
   9) Carousels (Benefits, etc.)
---------------------------------------------- */
.carousel {
  position: relative; overflow: hidden;
}
.slides {
  display: flex; gap: 12px; transition: transform .3s ease; will-change: transform;
}
.slide {
  min-width: 280px; max-width: 360px; flex: 0 0 auto;
  background: #fff; border: 1px solid var(--line); border-radius: 12px; padding: 14px;
  box-shadow: var(--shadow-sm);
}
.carousel .nav {
  display:flex; gap: 8px; align-items:center;
}
.carousel .nav .btn { padding: 8px 10px; }

/* ---------------------------------------------
   10) Culture strip (parallax motifs)
---------------------------------------------- */
.culture-strip {
  position: relative; overflow: hidden; border-radius: 16px; border: 1px solid var(--line);
  background: linear-gradient(90deg, #fff, var(--surface-2));
  padding: 18px;
}
.culture-strip .motif {
  position: absolute; top: 0; will-change: transform; opacity: .25;
}

/* ---------------------------------------------
   11) Apply bar (mobile) & Back-to-top & Apply FAB
---------------------------------------------- */
.apply-bar {
  position: fixed; left: 0; right: 0; bottom: 0; z-index: 90;
  display: flex; gap: 10px; justify-content: center; align-items: center; padding: 10px;
  background: rgba(255,255,255,0.96);
  border-top: 1px solid var(--line);
  box-shadow: 0 -8px 20px rgba(16,24,40,0.06);
  transform: translateY(100%); transition: transform .2s ease;
}
.apply-bar .btn { min-width: 120px; }

.to-top {
  position: fixed; right: 18px; bottom: 18px; z-index: 120;
  transform: translateY(140%); opacity: 0; transition: transform .18s ease, opacity .18s ease;
}
.to-top.show { transform: translateY(0); opacity: 1; }

/* Apply Now button next to arrow */
.apply-fab {
  position: fixed; right: 72px; bottom: 18px; z-index: 120;
  display: inline-flex; align-items: center; gap: 8px; padding: 10px 14px;
  border-radius: 999px; border: 1px solid var(--line); text-decoration: none; font-weight: 800;
  background: var(--accent); color: #fff; box-shadow: var(--shadow-sm);
}
.apply-fab:hover { box-shadow: var(--shadow-md); transform: translateY(-1px); }
.apply-fab:active { transform: translateY(0); }
@media (max-width: 580px) {
  .apply-fab { right: 64px; bottom: 14px; padding: 8px 12px; }
}

/* ---------------------------------------------
   12) Forms / Inputs (Contact form & Ask ChatGPT)
---------------------------------------------- */
.form {
  display: grid; gap: 12px;
}
.input,
.textarea,
.select {
  width: 100%;
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 10px 12px;
  color: var(--ink);
}
.textarea { min-height: 120px; resize: vertical; }
.input:focus, .textarea:focus, .select:focus { outline: none; box-shadow: var(--focus); }
.form .help { font-size: 12px; color: var(--muted); }

/* Ask ChatGPT block */
.chatgpt {
  display: grid; gap: 10px; grid-template-columns: 1fr auto;
}
.chatgpt textarea {
  width: 100%; min-height: 160px; border-radius: 12px; border: 1px solid var(--line);
  padding: 12px; background: #fff; color: var(--ink);
}
.chatgpt .actions { display: flex; gap: 8px; align-items: start; }

/* ---------------------------------------------
   13) CTA band / Footer
---------------------------------------------- */
.cta-band { margin: 28px 0; }
.cta-card {
  display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:12px
}
.site-footer {
  margin-top: 40px; border-top: 1px solid var(--line);
  padding: 20px 0; color: #6b7280; font-size: 14px;
}
.footer-inner {
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
}
.footer-links { display: flex; gap: 12px; list-style: none; padding: 0; margin: 0; }
.footer-links a { color: #0a2540; }
.copy { margin: 0; }

/* ---------------------------------------------
   14) Page-specific helpers (Why page etc.)
---------------------------------------------- */
.highlight-box {
  background: linear-gradient(120deg, rgba(255,0,130,0.08), rgba(120,0,150,0.06));
  border-left: 4px solid var(--accent);
  padding: 16px; border-radius: 0 12px 12px 0; margin: 16px 0;
}

.comparison-chart { display: flex; gap: 20px; margin-top: 20px; }
.chart-item {
  flex: 1; text-align: center; padding: 16px; border-radius: 12px;
  background: var(--surface); border: 1px solid var(--line);
}
.chart-bar {
  height: 200px; width: 40px; margin: 0 auto; background: #e0e7ff; border-radius: 8px; position: relative; overflow: hidden;
}
.chart-fill {
  position: absolute; bottom: 0; left: 0; right: 0;
  background: var(--accent); border-radius: 8px 8px 0 0; transition: height 1s ease;
}
.chart-label { margin-top: 10px; font-weight: 700; }

.city-comparison { display: flex; gap: 20px; margin-top: 20px; }
.city-feature {
  flex: 1; padding: 16px; border-radius: 12px; background: var(--surface); border: 1px solid var(--line);
}

/* Lifestyle icons (used on Why page) */
.lifestyle-icons {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-top: 20px;
}
.lifestyle-icon { text-align: center; padding: 12px; }
.lifestyle-icon img { width: 64px; height: 64px; object-fit: contain; margin-bottom: 10px; }

@media (max-width: 1024px) {
  .lifestyle-icons { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 480px) {
  .lifestyle-icons { grid-template-columns: 1fr; }
}

/* ---------------------------------------------
   15) Background helpers (more visible), soft bands
---------------------------------------------- */
.bg-soft {
  background: linear-gradient(180deg, #fff, var(--surface-2));
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 18px;
}
.bg-strong {
  background: var(--surface-3);
  border: 1px solid #ffd0e8;
  border-radius: 14px;
  padding: 18px;
}
.section-band {
  background: linear-gradient(180deg,#fff,var(--surface-2));
  border-top: 1px solid var(--line);
  border-bottom: 1px solid var(--line);
  padding: 18px 0;
}

/* Ensure connectors are a bit more visible on light backgrounds */
.bg-connectors svg line,
.bg-connectors svg circle { opacity: 0.7; }

/* ---------------------------------------------
   16) Utilities (display, flex, grid, text, bg, borders)
---------------------------------------------- */
.d-flex { display:flex !important; }
.d-grid { display:grid !important; }
.d-block{ display:block !important; }
.d-inline{ display:inline !important; }
.justify-between{ justify-content:space-between !important; }
.justify-center{ justify-content:center !important; }
.items-center{ align-items:center !important; }
.flex-wrap{ flex-wrap:wrap !important; }
.gap-8{ gap:8px !important; }
.gap-10{ gap:10px !important; }
.gap-12{ gap:12px !important; }
.gap-16{ gap:16px !important; }
.rounded{ border-radius:12px !important; }
.rounded-lg{ border-radius:16px !important; }
.rounded-xl{ border-radius:20px !important; }
.rounded-full{ border-radius:999px !important; }
.border{ border:1px solid var(--line) !important; }
.border-0{ border:0 !important; }
.shadow-sm{ box-shadow: var(--shadow-sm) !important; }
.shadow-md{ box-shadow: var(--shadow-md) !important; }
.shadow-lg{ box-shadow: var(--shadow-lg) !important; }

.text-center{ text-align:center !important; }
.text-right{ text-align:right !important; }
.text-left{ text-align:left !important; }
.text-muted{ color: var(--muted) !important; }
.text-ink{ color: var(--ink) !important; }
.text-ink2{ color: var(--ink-2) !important; }
.text-accent{ color: var(--accent) !important; }
.bg-white{ background:#fff !important; }
.bg-surface{ background: var(--surface) !important; }
.bg-surface2{ background: var(--surface-2) !important; }
.bg-surface3{ background: var(--surface-3) !important; }

/* Width / height */
.h-100{ height: 100% !important; }
.minh-140{ min-height:140px !important; }

/* Positioning */
.sticky-top{ position: sticky; top: 0; }
.fixed { position: fixed; }

/* z-index layers */
.z-10{ z-index:10 !important; }
.z-50{ z-index:50 !important; }
.z-100{ z-index:100 !important; }
.z-120{ z-index:120 !important; }

/* ---------------------------------------------
   17) Animations (typewriter caret, shimmer, reveal variants)
---------------------------------------------- */
@keyframes caret {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}
.typewriter::after {
  content: '';
  display: inline-block;
  width: 2px; height: 1.2em;
  margin-left: 4px;
  background: var(--accent);
  animation: caret 1s steps(1) infinite;
}

@keyframes shimmer {
  0%{ background-position: -200% 0; }
  100%{ background-position: 200% 0; }
}
.skeleton {
  background: linear-gradient(90deg, #eee 25%, #f7f7f7 37%, #eee 63%);
  background-size: 400% 100%;
  animation: shimmer 1.4s ease infinite;
}

.reveal.fade { opacity: 0; transform: none; }
.reveal.fade.in { opacity: 1; transition: opacity .6s ease; }

/* ---------------------------------------------
   18) Breadcrumbs / Tabs / Pills (optional components)
---------------------------------------------- */
.breadcrumbs {
  display: flex; gap: 8px; align-items: center; font-size: 13px; color: var(--muted);
}
.breadcrumbs a { color: #0a2540; }
.tabbar {
  display: flex; gap: 8px; border-bottom: 1px solid var(--line);
}
.tabbar .tab {
  padding: 10px 12px; border-radius: 10px 10px 0 0; border:1px solid transparent;
}
.tabbar .tab.active {
  border-color: var(--line); border-bottom-color: transparent; background: #fff;
  color: #0a2540; font-weight: 800;
}

/* ---------------------------------------------
   19) Cards with media headers (variant)
---------------------------------------------- */
.card.media {
  padding: 0;
}
.card.media .media-img {
  height: 180px; width: 100%; object-fit: cover; border-radius: 14px 14px 0 0;
}
.card.media .body { padding: 14px; }

/* ---------------------------------------------
   20) Tag pills / chips
---------------------------------------------- */
.tag {
  display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px;
  border:1px solid var(--line); background:#fff; font-weight:800; font-size:12px;
}
.tag.accent { border-color: #ffd0e8; background: #fff0f7; color: #0a2540; }

/* ---------------------------------------------
   21) Notification banner
---------------------------------------------- */
.banner {
  padding: 10px 12px; border-radius: 12px; border: 1px solid #ffd0e8; background: #fff0f7;
  color: #0a2540; font-weight: 700;
}

/* ---------------------------------------------
   22) Tables (responsive wrapper)
---------------------------------------------- */
.table-wrap { width: 100%; overflow-x: auto; }
.table-wrap table { min-width: 640px; }

/* ---------------------------------------------
   23) Modals (not currently used but ready)
---------------------------------------------- */
.modal {
  position: fixed; inset: 0; display: none; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.45); z-index: 130;
}
.modal.open { display: flex; }
.modal .dialog {
  background: #fff; color: var(--ink); border: 1px solid var(--line);
  border-radius: 14px; padding: 16px; width: min(560px, 92vw);
  box-shadow: var(--shadow-lg);
}

/* ---------------------------------------------
   24) Tooltips (simple)
---------------------------------------------- */
.tooltip {
  position: relative;
}
.tooltip:hover::after {
  content: attr(data-tip);
  position: absolute; bottom: calc(100% + 6px); left: 50%; transform: translateX(-50%);
  background: #111; color: #fff; font-size: 12px; padding: 6px 8px; border-radius: 6px;
  white-space: nowrap; box-shadow: 0 6px 16px rgba(0,0,0,0.2);
}

/* ---------------------------------------------
   25) Progress bar
---------------------------------------------- */
.progress {
  width: 100%; height: 10px; background: #f2f3f5; border-radius: 999px; overflow: hidden;
}
.progress .bar { height: 100%; background: var(--accent); width: 0; transition: width .4s ease; }

/* ---------------------------------------------
   26) Breadcrumb bar (alternate style)
---------------------------------------------- */
.bread {
  display: flex; gap: 6px; font-size: 12px; color: var(--muted);
}
.bread a { color: #0a2540; }

/* ---------------------------------------------
   27) Lists (tick, dash)
---------------------------------------------- */
.list.tick { list-style: none; padding-left: 0; }
.list.tick li::before { content: "✓"; margin-right: 8px; color: var(--accent); font-weight: 900; }
.list.dash { list-style: none; padding-left: 0; }
.list.dash li::before { content: "—"; margin-right: 8px; color: var(--muted); }

/* ---------------------------------------------
   28) Code & preformatted (for docs)
---------------------------------------------- */
code, pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 13px; background: #f8fafc; border: 1px solid var(--line); border-radius: 10px;
}
pre { padding: 12px; overflow: auto; }

/* ---------------------------------------------
   29) Accent helpers (Pink / Purple fallbacks when contrast needed)
---------------------------------------------- */
.accent-bg { background: var(--accent) !important; color: #fff !important; }
.accent2-bg { background: var(--accent-2) !important; color: #fff !important; }
.accent-text { color: var(--accent) !important; }
.accent2-text { color: var(--accent-2) !important; }

/* ---------------------------------------------
   30) Print styles
---------------------------------------------- */
color-scheme: light;

@media print {
  .site-header, .apply-bar, .to-top, .apply-fab, .drawer, .scrim { display: none !important; }
  .card, .hero-inner { box-shadow: none !important; }
  a { text-decoration: underline; }
  body { background: #fff !important; color-scheme: light !important; }
}

/* ---------------------------------------------
   31) High-contrast and reduced-motion aids
---------------------------------------------- */
@media (prefers-contrast: more) {
  .btn.primary { box-shadow: none; }
  .drawer-nav .d-link[aria-current="page"] { outline: 2px solid var(--accent); }
}
@media (prefers-reduced-motion: reduce) {
  .reveal, .slides { transition: none !important; }
  .to-top, .apply-fab, .apply-bar { transition: none !important; }
}

/* ---------------------------------------------
   32) RTL support (basic)
---------------------------------------------- */
[dir="rtl"] .timeline li { padding-left: 0; padding-right: 28px; }
[dir="rtl"] .timeline li::before { left: auto; right: 0; }

/* ---------------------------------------------
   33) Page stubs / legacy selectors (safe no-ops for older HTML)
---------------------------------------------- */
.hero .inner { /* legacy alias used on why-malaysia-thailand.html inline */ }
.h2-subtitle { /* older class name in early drafts */ }
.box { /* placeholder */ }
.section { /* placeholder for IO attaches in legacy script */ }

/* ---------------------------------------------
   34) Footer bars for multi-page consistency
---------------------------------------------- */
.footer-bar {
  position: sticky; bottom: 0; background: #fff; border-top: 1px solid var(--line);
  padding: 10px; display: flex; justify-content: space-between; align-items: center;
}

/* ---------------------------------------------
   35) Cards (list style)
---------------------------------------------- */
.card-list { display: grid; gap: 12px; }
.card-list .item {
  border: 1px solid var(--line); background: #fff; border-radius: 12px; padding: 12px;
}

/* ---------------------------------------------
   36) Media blocks (left image/right text)
---------------------------------------------- */
.media-block {
  display: grid; grid-template-columns: 240px 1fr; gap: 16px; align-items: center;
}
.media-block img {
  width: 100%; height: 160px; object-fit: cover; border-radius: 12px; border: 1px solid var(--line);
}
@media (max-width: 720px) {
  .media-block { grid-template-columns: 1fr; }
  .media-block img { height: 200px; }
}

/* ---------------------------------------------
   37) Shadows & borders utility expansion
---------------------------------------------- */
.shadow-none{ box-shadow:none !important; }
.border-accent{ border-color: #ffd0e8 !important; }
.border-white{ border-color: #fff !important; }
.bg-gradient-pink {
  background: linear-gradient(180deg, #fff, var(--surface-2));
}

/* ---------------------------------------------
   38) Header compact for subpages (optional)
---------------------------------------------- */
.header-compact .site-header {
  top: 6px; margin-top: 6px;
}

/* ---------------------------------------------
   39) Search input (if used later)
---------------------------------------------- */
.search {
  display: flex; gap: 8px; align-items: center; border: 1px solid var(--line);
  background: #fff; border-radius: 12px; padding: 6px 8px;
}
.search input { border: none; outline: none; background: transparent; width: 100%; }

/* ---------------------------------------------
   40) Hero badges strip
---------------------------------------------- */
.hero-badges {
  display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;
}
.hero-badges .pill {
  padding: 6px 10px; border-radius: 999px; border: 1px solid #ffd0e8; background: #fff0f7; font-weight: 800; font-size: 12px;
}

/* ---------------------------------------------
   41) Link styles (hover underline)
---------------------------------------------- */
.link { color: var(--accent); font-weight: 800; }
.link:hover { text-decoration: underline; }

/* ---------------------------------------------
   42) Inline notices
---------------------------------------------- */
.notice {
  border-left: 4px solid var(--accent); background: #fff8fb; padding: 10px 12px; border-radius: 0 10px 10px 0;
}

/* ---------------------------------------------
   43) KPI blocks
---------------------------------------------- */
.kpis { display: grid; gap: 12px; grid-template-columns: repeat(4, 1fr); }
.kpi {
  border: 1px solid var(--line); border-radius: 12px; background: #fff; padding: 12px; text-align: center;
}
.kpi strong { display:block; font-size: 24px; color: var(--ink-2); }
@media (max-width: 900px){ .kpis { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 520px){ .kpis { grid-template-columns: 1fr; } }

/* ---------------------------------------------
   44) Chips row
---------------------------------------------- */
.chips { display: flex; flex-wrap: wrap; gap: 8px; }
.chip  { border: 1px solid var(--line); border-radius: 999px; padding: 6px 10px; font-weight: 800; background: #fff; }

/* ---------------------------------------------
   45) Header promo ribbon (optional)
---------------------------------------------- */
.ribbon {
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: #fff; padding: 6px 10px; text-align: center; font-weight: 900;
}

/* ---------------------------------------------
   46) Grid helpers for icon rows (legacy)
---------------------------------------------- */
.icon-grid .grid { display: grid; gap: var(--gap); }
.icon-grid .grid.cols-3 { grid-template-columns: repeat(3, 1fr); }

/* ---------------------------------------------
   47) Backdrop filters fallback
---------------------------------------------- */
@supports not ((backdrop-filter: blur(8px))) {
  .site-header { background: #fff; }
}

/* ---------------------------------------------
   48) Cards with number bullets
---------------------------------------------- */
.numbered { counter-reset: num; }
.numbered .card::before {
  counter-increment: num; content: counter(num) ".";
  display: inline-block; font-weight: 900; color: var(--accent); margin-right: 6px;
}

/* ---------------------------------------------
   49) Hero overlay variant
---------------------------------------------- */
.hero.overlay {
  position: relative; background: linear-gradient(180deg,#111,rgba(0,0,0,0.35)), url(''); background-size: cover;
  color: #fff; border: none;
}
.hero.overlay .hero-title,
.hero.overlay .lead { color: #fff; }

/* ---------------------------------------------
   50) End of file padding (keep for future expansions)
---------------------------------------------- */

/* (intentionally left with extensive utility and component coverage to keep
   parity with your longer original stylesheet and to avoid future deletions) */
